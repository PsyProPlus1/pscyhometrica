<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preschool Personality Assessment</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+Devanagari&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.1/auth0-spa-js.production.js"></script>
    <style>
        /* Keep loading message styles */
        #loading-message {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80vh;
            font-family: 'Poppins', sans-serif;
            font-size: 1.2rem;
            color: #555;
        }
        .container {
             display: none; /* Start hidden */
        }
    </style>
</head>
<body>
    <div id="loading-message">
        <p><i class="fas fa-spinner fa-spin"></i> Loading application...</p>
    </div>

    <div class="container">
        <header>
            <div class="brain-icon"><i class="fas fa-child"></i></div>
            <h1>Preschool Personality Assessment</h1>
            <p class="tagline">Understanding Your Child's Unique Temperament</p>
        </header>

        <section id="login-section" class="hidden">
             <h2>Login Required</h2>
             <p style="text-align: center; margin-bottom: 20px;">You need to log in or sign up to access the assessment.</p>
             <div class="button-group">
                 <button id="login-btn" class="btn primary"><i class="fas fa-sign-in-alt"></i> Login / Sign Up</button>
             </div>
        </section>

        <section id="welcome-section" class="hidden"></section>

        <section id="age-group-selection" class="hidden">
            <h2>Select Child's Age Group</h2>
            <div class="form-group">
                <label for="age-group">Age Group:</label>
                <select id="age-group" aria-label="Select Age Group">
                    <option value="">Select Age Group</option>
                    <option value="Nursery">Nursery (Approx 3-4 yrs)</option>
                    <option value="JrKG">Jr KG (Approx 4-5 yrs)</option>
                    <option value="SrKG">Sr KG (Approx 5-6 yrs)</option>
                </select>
            </div>
            <div class="button-group navigation-buttons">
                 <button id="logout-btn-age" class="btn secondary"><i class="fas fa-sign-out-alt"></i> Logout</button>
                <button id="age-group-next-btn" class="btn primary"><i class="fas fa-arrow-right"></i> Next</button>
            </div>
        </section>

        <section id="info-section" class="hidden">
            <h2 id="info-title">Child and Parent Information</h2>
            <div id="info-step">
                </div>
            <div class="button-group navigation-buttons">
                <button class="btn secondary" id="info-back-btn"><i class="fas fa-arrow-left"></i> Back</button>
                <button class="btn primary" id="info-next-btn"><i class="fas fa-arrow-right"></i> Next</button>
            </div>
        </section>

        <section id="language-selection" class="hidden">
            <h2>Select Survey Language</h2>
            <p style="text-align: center; color: var(--clr-text-secondary);">Choose the language for the survey questions and instructions.</p>
            <div class="button-group language-buttons">
                <button id="lang-en-btn" class="btn primary" data-lang="English"><i class="fas fa-language"></i> English</button>
                <button id="lang-mr-btn" class="btn primary" data-lang="Marathi"><i class="fas fa-language"></i> मराठी</button>
                <button id="lang-hi-btn" class="btn primary" data-lang="Hindi"><i class="fas fa-language"></i> हिन्दी</button>
            </div>
             <div class="button-group navigation-buttons">
                 <button id="lang-back-btn" class="btn secondary"><i class="fas fa-arrow-left"></i> Back</button>
             </div>
        </section>

        <section id="instructions-section" class="hidden">
            <h2 id="instructions-title">Instructions</h2>
            <div id="instructions-content" class="instructions-box">
                </div>
            <div class="button-group navigation-buttons">
                 <button id="instr-back-btn" class="btn secondary"><i class="fas fa-arrow-left"></i> Back</button>
                 <button id="instr-start-btn" class="btn primary"><i class="fas fa-play"></i> Start Survey</button>
            </div>
        </section>

        <section id="test-section" class="hidden">
            <h2 id="test-title">Survey</h2>
            <div class="progress-container">
                <p class="progress-label">Progress</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%;"></div>
                </div>
                <div class="progress-text" id="progress-text">Question 0 of 36</div>
            </div>
            <div id="questions">
                </div>
            <div class="button-group navigation-buttons">
                <button class="btn secondary" id="back-btn" ><i class="fas fa-arrow-left"></i> Back</button>
                <button class="btn primary" id="next-btn" ><i class="fas fa-arrow-right"></i> Next</button>
                <button class="btn success hidden" id="submit-btn" ><i class="fas fa-check"></i> Submit</button>
            </div>
        </section>

        <section id="results-section" class="hidden">
            <h2 id="results-title">Survey Results</h2>
            <div id="result-details-display">
                 </div>
            <div id="result-content">
                </div>
            <div class="contact-message">
                 <p id="contact-message-text"><i class="fas fa-info-circle"></i> Contact us for detailed discussion.</p>
            </div>
            <div class="button-group result-actions">
                 <button id="results-whatsapp-btn" class="btn whatsapp-btn"><i class="fab fa-whatsapp"></i> Share</button>
                 <button id="results-email-btn" class="btn email-btn"><i class="fas fa-envelope"></i> Email</button>
                 <button id="results-copy-btn" class="btn copy-btn"><i class="fas fa-copy"></i> Copy</button>
                 <button id="results-retake-btn" class="btn primary"><i class="fas fa-redo"></i> Take New Survey</button>
                 <button id="logout-btn-results" class="btn secondary"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </section>

        </div> <script src="instructionsEnglish.js"></script>
    <script src="instructionsMarathi.js"></script>
    <script src="instructionsHindi.js"></script>
    <script src="questionsMarathi.js"></script> <script src="questionsEnglish.js"></script> <script src="questionsHindi.js"></script>   <script src="planEnglish.js"></script>
    <script src="planMarathi.js"></script>
    <script src="planHindi.js"></script>
    <script src="resultsEnglish.js"></script>
    <script src="resultsMarathi.js"></script>
    <script src="resultsHindi.js"></script>

    <script src="script.js"></script>
</body>
</html>